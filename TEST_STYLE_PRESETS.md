# 样式预设功能测试指南

## 功能概述
样式预设功能允许保存和快速应用热区样式（颜色、线宽）。

## 测试步骤

### 1. 启动应用
```bash
node server.js
```
访问: http://localhost:8001

### 2. 查看默认预设
- 在右侧找到"样式预设"面板（位于属性面板下方）
- 应该看到 5 个默认预设：
  - 默认（绿色）
  - 重点（红色）
  - 次要（黄色）
  - 提示（青色）
  - 警告（橙色）

### 3. 测试应用预设
1. 创建一个热区（圆形、矩形等）
2. 选中该热区
3. 点击任意预设的"应用"按钮
4. 热区颜色应立即改变
5. 应显示提示消息："已应用样式到 1 个热区"

### 4. 测试保存自定义预设
1. 选中一个热区
2. 在属性面板修改颜色（例如改为紫色 #ff00ff）
3. 点击"💾 保存当前样式"按钮
4. 输入预设名称（例如"紫色标记"）
5. 新预设应出现在列表中
6. 新预设应有删除按钮（🗑️）

### 5. 测试删除自定义预设
1. 找到刚创建的自定义预设
2. 点击删除按钮（🗑️）
3. 确认删除
4. 预设应从列表中消失

### 6. 测试多选应用
1. 创建多个热区
2. 按住 Shift 选中多个热区
3. 应用任意预设
4. 所有选中的热区应同时改变颜色
5. 提示消息应显示正确的数量

### 7. 测试持久化
1. 创建几个自定义预设
2. 刷新页面
3. 自定义预设应该保留（存储在 localStorage）
4. 默认预设始终存在

## 控制台测试命令

打开浏览器控制台（F12），测试以下命令：

```javascript
// 查看 StylePanelController 实例
window.stylePanelController

// 查看 StyleManager
window.game.scene.getScene('EditorScene').styleManager

// 获取所有预设
window.game.scene.getScene('EditorScene').styleManager.getPresets()

// 应用预设（需要先选中热区）
window.game.scene.getScene('EditorScene').styleManager.applyPreset('important')
```

## 预期结果

✅ 样式面板正确显示在右侧
✅ 默认预设全部显示
✅ 应用预设立即生效
✅ 保存自定义预设成功
✅ 删除自定义预设成功
✅ 多选应用正常工作
✅ 刷新后自定义预设保留
✅ 提示消息正确显示

## 注意事项

- 默认预设不能删除
- 必须先选中热区才能应用或保存预设
- 自定义预设存储在浏览器 localStorage
- 样式包括颜色和线宽两个属性
