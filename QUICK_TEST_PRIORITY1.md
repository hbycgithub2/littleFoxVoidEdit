# 优先级 1 快速测试指南

> **测试目的**: 验证重构后的代码功能完整性  
> **预计时间**: 10-15 分钟

---

## 🚀 启动项目

### 方法 1：使用 Python（推荐）
```bash
cd littleFoxVoidEdit
python -m http.server 8000
```

### 方法 2：使用 Node.js
```bash
cd littleFoxVoidEdit
npx http-server -p 8000
```

### 方法 3：使用 Live Server（VS Code）
1. 安装 Live Server 扩展
2. 右键 `index.html` → Open with Live Server

**访问地址**: http://localhost:8000

---

## ✅ 测试清单

### 1. 基础绘制测试（5 分钟）

#### 1.1 圆形热区 ✅
1. 点击工具栏的「⭕ 圆形」按钮
2. 在视频上拖拽绘制圆形
3. 释放鼠标，圆形热区应该出现

**预期结果**：
- ✅ 绘制时显示绿色预览线
- ✅ 释放后创建绿色圆形热区
- ✅ 热区列表显示新热区

#### 1.2 矩形热区 ✅
1. 点击工具栏的「▭ 矩形」按钮
2. 在视频上拖拽绘制矩形
3. 释放鼠标，矩形热区应该出现

**预期结果**：
- ✅ 绘制时显示绿色预览线
- ✅ 释放后创建绿色矩形热区
- ✅ 热区列表显示新热区

#### 1.3 椭圆热区 ✅
1. 点击工具栏的「⬭ 椭圆」按钮
2. 在视频上拖拽绘制椭圆
3. 释放鼠标，椭圆热区应该出现

**预期结果**：
- ✅ 绘制时显示绿色预览线
- ✅ 释放后创建绿色椭圆热区
- ✅ 热区列表显示新热区

#### 1.4 多边形热区 ✅
1. 点击工具栏的「⬟ 多边形」按钮
2. 在视频上点击添加顶点（至少 3 个）
3. 按 Enter 键完成绘制

**预期结果**：
- ✅ 每次点击添加一个顶点
- ✅ 显示绿色预览线连接顶点
- ✅ 按 Enter 后创建多边形热区
- ✅ 热区列表显示新热区

---

### 2. 选择和编辑测试（3 分钟）

#### 2.1 单选热区 ✅
1. 点击任意热区
2. 热区应该变成红色（选中状态）
3. 属性面板应该显示

**预期结果**：
- ✅ 热区变红色
- ✅ 显示 8 个白色缩放手柄
- ✅ 属性面板显示热区信息

#### 2.2 多选热区 ✅
1. 按住 Ctrl 键
2. 点击多个热区
3. 所有选中的热区都应该变红

**预期结果**：
- ✅ 多个热区同时变红
- ✅ 属性面板显示「已选中 X 个热区」

#### 2.3 拖拽移动 ✅
1. 点击选中热区
2. 拖拽热区到新位置
3. 释放鼠标

**预期结果**：
- ✅ 热区跟随鼠标移动
- ✅ 缩放手柄跟随移动
- ✅ 释放后位置更新

#### 2.4 缩放热区 ✅
1. 选中热区（显示缩放手柄）
2. 拖拽任意缩放手柄
3. 热区应该缩放

**预期结果**：
- ✅ 热区尺寸改变
- ✅ 手柄位置更新
- ✅ 形状保持正确

---

### 3. 撤销/重做测试（2 分钟）

#### 3.1 撤销功能 ✅
1. 创建一个热区
2. 点击「↶ 撤销」按钮（或按 Ctrl+Z）
3. 热区应该消失

**预期结果**：
- ✅ 热区消失
- ✅ 热区列表更新
- ✅ 可以继续撤销

#### 3.2 重做功能 ✅
1. 撤销一个操作
2. 点击「↷ 重做」按钮（或按 Ctrl+Shift+Z）
3. 操作应该恢复

**预期结果**：
- ✅ 热区恢复
- ✅ 热区列表更新
- ✅ 可以继续重做

---

### 4. 复制/粘贴测试（2 分钟）

#### 4.1 复制热区 ✅
1. 选中一个或多个热区
2. 按 Ctrl+C
3. 控制台应该显示「已复制 X 个热区」

**预期结果**：
- ✅ 控制台显示复制消息
- ✅ 热区保持选中状态

#### 4.2 粘贴热区 ✅
1. 复制热区后
2. 按 Ctrl+V
3. 新热区应该出现（偏移 20px）

**预期结果**：
- ✅ 新热区出现
- ✅ 位置偏移 20px
- ✅ 新热区被自动选中
- ✅ 热区列表更新

---

### 5. 数据管理测试（3 分钟）

#### 5.1 导出数据 ✅
1. 创建几个热区
2. 点击「💾 导出」按钮
3. 应该下载 `hotspots.json` 文件

**预期结果**：
- ✅ 下载 JSON 文件
- ✅ 文件包含所有热区数据
- ✅ JSON 格式正确

#### 5.2 导入数据 ✅
1. 点击「📂 导入」按钮
2. 选择之前导出的 JSON 文件
3. 热区应该加载

**预期结果**：
- ✅ 热区正确加载
- ✅ 显示「导入成功」提示
- ✅ 热区列表更新

---

### 6. 快捷键测试（2 分钟）

#### 6.1 删除快捷键 ✅
1. 选中热区
2. 按 Delete 键
3. 热区应该删除

**预期结果**：
- ✅ 热区消失
- ✅ 热区列表更新

#### 6.2 取消绘制 ✅
1. 点击任意绘制工具
2. 按 ESC 键
3. 绘制模式应该取消

**预期结果**：
- ✅ 工具按钮恢复正常
- ✅ 绘制模式取消

#### 6.3 完成多边形 ✅
1. 开始绘制多边形
2. 添加几个顶点
3. 按 Enter 键

**预期结果**：
- ✅ 多边形创建完成
- ✅ 预览线消失
- ✅ 热区列表更新

---

## 🐛 常见问题

### 问题 1：视频无法加载
**原因**：视频文件路径不正确

**解决方案**：
1. 检查 `assets/videos/` 目录是否存在
2. 确保视频文件存在
3. 修改 `index.html` 中的视频路径

### 问题 2：Canvas 与视频不对齐
**原因**：视频尺寸未正确同步

**解决方案**：
1. 打开浏览器控制台
2. 检查是否有错误信息
3. 刷新页面重新加载

### 问题 3：热区无法选中
**原因**：事件监听器未正确设置

**解决方案**：
1. 打开浏览器控制台
2. 检查是否有 JavaScript 错误
3. 确保 Phaser 库正确加载

---

## 📊 测试结果记录

### 测试信息
- **测试日期**: ___________
- **测试人员**: ___________
- **浏览器**: ___________
- **操作系统**: ___________

### 测试结果

| 测试项 | 状态 | 备注 |
|--------|------|------|
| 圆形绘制 | ☐ 通过 ☐ 失败 | |
| 矩形绘制 | ☐ 通过 ☐ 失败 | |
| 椭圆绘制 | ☐ 通过 ☐ 失败 | |
| 多边形绘制 | ☐ 通过 ☐ 失败 | |
| 单选热区 | ☐ 通过 ☐ 失败 | |
| 多选热区 | ☐ 通过 ☐ 失败 | |
| 拖拽移动 | ☐ 通过 ☐ 失败 | |
| 缩放热区 | ☐ 通过 ☐ 失败 | |
| 撤销功能 | ☐ 通过 ☐ 失败 | |
| 重做功能 | ☐ 通过 ☐ 失败 | |
| 复制功能 | ☐ 通过 ☐ 失败 | |
| 粘贴功能 | ☐ 通过 ☐ 失败 | |
| 导出数据 | ☐ 通过 ☐ 失败 | |
| 导入数据 | ☐ 通过 ☐ 失败 | |
| 快捷键 | ☐ 通过 ☐ 失败 | |

### 总体评价
- ☐ 所有功能正常
- ☐ 部分功能有问题
- ☐ 需要修复

### 发现的问题
1. ___________________________________________
2. ___________________________________________
3. ___________________________________________

---

## ✅ 测试通过标准

- ✅ 所有绘制工具正常工作
- ✅ 选择和编辑功能正常
- ✅ 撤销/重做功能正常
- ✅ 复制/粘贴功能正常
- ✅ 数据导出/导入正常
- ✅ 所有快捷键正常
- ✅ 没有 JavaScript 错误
- ✅ 性能流畅（60 FPS）

---

**测试指南版本**: 1.0.0  
**更新日期**: 2025-01-26

